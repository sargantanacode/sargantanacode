<% unless new_post %>
  <div class="form-group">
    <%= f.label :author %>
    <% categories = User.all.collect { |user| [user.name, user.id] } %>
    <%= f.collection_select :user_id, User.all, :id, :name, { prompt: true }, :class => "form-control" %>
  </div>
<% end %>

<div class="form-group">
  <%= f.label :category %>
  <% categories = Category.all.collect { |category| [category.name, category.id] } %>
  <%= f.collection_select :category_id, Category.all, :id, :name, { prompt: true }, :class => "form-control" %>
</div>

<div class="form-group">
  <%= f.label :course %>
  <% courses = Course.all.collect { |course| [course.name, course.id] } %>
  <%= f.collection_select :course_id, Course.all, :id, :name, { prompt: true }, :class => "form-control" %>
</div>

<%= f.hidden_field :type, :value => defined?(post) ? post.type : type %>

<div class="form-group">
  <%= f.label :slug %>
  <%= f.text_field :slug, :class => "form-control" %>
  <small id="slugHelp" class="form-text text-muted"><%= t('.slug_help') %></small>
</div>

<div class="form-group">
  <%= f.label :image %>
  <%= f.file_field :image, :class => "form-control-file" %>
</div>

<div class="actions">
  <%= f.submit t('.save'), :class => "btn btn-primary" %>
  <% if defined?(post) && post.image.present? %>
      <%= link_to t('.destroy_image'), admin_post_destroy_image_path(post_id: post.slug),
        data: { confirm: t('.delete_confirm') }, :method => :put,
        :class => "btn btn-warning float-right" %>
    <% end %>
</div>
