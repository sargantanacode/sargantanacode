<% content_for :title, t('.dashboard') %>

<% all_variables = [@pending_comments, @comments, @posts, @drafts, @max_visits, @max_comments] %>

<% if content_empty?(all_variables) %>
  <% content_for :notice, t('.dashboard_empty') %>
<% end %>

<div class="col-12 mb-3">
  <% unless @pending_comments.empty? %>
    <h2 class="text-center h2 mb-4"><%= t('.pending_comments') %></h2>
    <div class="content mb-5">
      <%= render 'admin/comments/list_header' %>
      <% @pending_comments.each do |comment| %>
        <%= render 'admin/comments/list', comment: comment %>
      <% end %>
    </div>
  <% end %>

  <% unless @comments.empty? %>
    <h2 class="text-center h2 mb-4"><%= t('.last_comments') %></h2>
    <div class="content mb-5">
      <%= render 'admin/comments/list_header' %>
      <% @comments.each do |comment| %>
        <%= render 'admin/comments/list', comment: comment %>
      <% end %>
    </div>
  <% end %>

  <% unless @posts.empty? %>
    <h2 class="text-center h2 mb-4"><%= t('.last_posts') %></h2>
    <div class="content mb-5">
      <%= render 'admin/posts/list_header' %>
      <% @posts.each do |post| %>
        <%= render 'admin/posts/list', post: post %>
      <% end %>
    </div>
  <% end %>

  <% unless @drafts.empty? %>
    <h2 class="text-center h2 mb-4"><%= t('.last_drafts') %></h2>
    <div class="content mb-5">
      <%= render 'admin/posts/list_header' %>
      <% @drafts.each do |draft| %>
        <%= render 'admin/posts/list', post: draft %>
      <% end %>
    </div>
  <% end %>

    <% unless @max_visits.empty? %>
    <h2 class="text-center h2 mb-4"><%= t('.more_visited_posts') %></h2>
    <div class="content mb-5">
      <%= render 'admin/posts/list_header' %>
      <% @max_visits.each do |post| %>
        <%= render 'admin/posts/list', post: post %>
      <% end %>
    </div>
  <% end %>

  <% unless @max_comments.empty? %>
    <h2 class="text-center h2 mb-4"><%= t('.more_commented_posts') %></h2>
    <div class="content mb-5">
      <%= render 'admin/posts/list_header' %>
      <% @max_comments.each do |post| %>
        <%= render 'admin/posts/list', post: post %>
      <% end %>
    </div>
  <% end %>
</div>
